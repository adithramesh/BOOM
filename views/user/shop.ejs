<!DOCTYPE html>
<html lang="en">

<head>
  <title>BOOM &mdash; Apparel Shopping</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mukta:300,400,700">
  <link rel="stylesheet" href="fonts/icomoon/style.css">

  <link rel="stylesheet" href="/user/css/bootstrap.min.css">
  <link rel="stylesheet" href="/user/css/magnific-popup.css">
  <link rel="stylesheet" href="/user/css/jquery-ui.css">
  <link rel="stylesheet" href="/user/css/owl.carousel.min.css">
  <link rel="stylesheet" href="/user/css/owl.theme.default.min.css">


  <link rel="stylesheet" href="/user/css/aos.css">

  <link rel="stylesheet" href="/user/css/style.css">
  <style>
   .product-item {
  position: relative;
  overflow: hidden;
}

.product-item img {
  width: 100%;
  height: auto;
}

.item-title {
  font-size: 1.2em;
  font-weight: bold;
}

.item-price {
  font-size: 1.1em;
  color: #333;
}

.item-price del {
  color: #999;
}

.item-discount {
  color: #d9534f;
  font-weight: bold;
}

.item-description {
  color: #777;
  font-size: 0.9em;
}

.bg-gray {
  background-color: #f8f9fa;
}

.md-height {
  height: 300px;
 
}

/* New styles for the search bar */
.search-wrap {
  background-color: #f1f1f1;
  padding: 15px;
  border-radius: 8px;
  margin-top: 20px;
}

.search-wrap .container {
  display: flex;
  align-items: center;
}

.search-form {
  display: flex;
  width: 100%;
}

.search-input {
  flex: 1;
  padding: 10px 15px;
  border: 2px solid #ddd;
  border-radius: 4px 0 0 4px;
  font-size: 16px;
  outline: none;
  transition: border-color 0.3s;
}

.search-input:focus {
  border-color: #d9534f;
}

.search-button {
  padding: 10px 20px;
  background-color: #d9534f;
  color: #fff;
  border: none;
  border-radius: 0 4px 4px 0;
  cursor: pointer;
  font-size: 16px;
  transition: background-color 0.3s;
}

.search-button:hover {
  background-color: #d9534f;
}

.search-close {
  margin-right: -40px;
  cursor: pointer;
}

  </style>
</head>

<body>

  <div class="site-wrap">


    <div class="site-navbar bg-white py-2">

    
      <div class="search-wrap">
        <div class="container">
          <a href="#" class="search-close js-search-close"><span class="icon-close2"></span></a>
          <form action="/user/shop" method="GET" class="search-form">
            <input type="text" name="q" class="search-input" placeholder="Search products..." value="<%= q || '' %>">
            <% if (category) { %>
              <input type="hidden" name="category" value="<%= category %>">
            <% } %>
            <button type="submit" class="search-button">Search</button>
          </form>
        </div>
      </div>
      

      <div class="container">
        <div class="d-flex align-items-center justify-content-between">
          <div class="logo">
            <div class="site-logo">
              <a href=/user/index class="js-logo-clone">BOOM</a>
            </div>
          </div>
          <div class="main-nav d-none d-lg-block">
            <nav class="site-navigation text-right text-md-center" role="navigation">
              <ul class="site-menu js-clone-nav d-none d-lg-block">
                <li class="active">
                  <a href="/user/index">Home</a>
                </li>

                <li class="active"><a href="/user/shop">Shop</a></li>
          
              </ul>
            </nav>
          </div>
          <div class="icons">
            <a href="#" class="icons-btn d-inline-block js-search-open"><span class="icon-search"></span></a>
            <a href="/user/user-profile" class="icons-btn d-inline-block"><span class="icon-user"></span></a>
            <a href="#" class="icons-btn d-inline-block"><span class="icon-heart-o"></span></a>
            <a href="/user/cart" class="icons-btn d-inline-block bag">
              <span class="icon-shopping-bag"></span>
              <!-- <span class="number">2</span> -->
            </a>
            <a href="#" class="site-menu-toggle js-menu-toggle ml-3 d-inline-block d-lg-none"><span
                class="icon-menu"></span></a>
          </div>
        </div>
      </div>
    </div>
    <!-- Breadcrumps -->
    <div class="bg-light py-3">
      <div class="container">
        <div class="row">
          <div class="col-md-12 mb-0"><a href="/user/index">Home</a> <span class="mx-2 mb-0">/</span> <strong
              class="text-black">Shop</strong></div>
        </div>
      </div>
    </div>
 

    <div class="site-section">
      <div class="container">

        <div class="row mb-5">
          <div class="col-md-9 order-1">

            <div class="row align">
              <div class="col-md-12 mb-5">
                <div class="float-md-left">
                  <h2 class="text-black h5">Shop All</h2>
                </div>
                <div class="d-flex">
                  <div class="dropdown mr-1 ml-md-auto">
                    <!-- <button type="button" class="btn btn-white btn-sm dropdown-toggle px-4" id="dropdownMenuOffset"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      Latest
                    </button> -->
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuOffset">
                      <a class="dropdown-item" href="#">Men</a>
                      <a class="dropdown-item" href="#">Women</a>
                      <a class="dropdown-item" href="#">Children</a>
                    </div>
                  </div>
                  <div class="btn-group">
                    <button type="button" class="btn btn-white btn-sm dropdown-toggle px-4" id="dropdownMenuReference"
                      data-toggle="dropdown">Sort By</button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuReference">
                      <!-- <a class="dropdown-item" href="#" onclick="sortProducts('popularity')">Popularity</a> -->
                      <a class="dropdown-item" href="#" onclick="sortProducts('priceAsc')">Price, low to high</a>
                      <a class="dropdown-item" href="#" onclick="sortProducts('priceDesc')">Price, high to low</a>
                      <!-- <a class="dropdown-item" href="#" onclick="sortProducts('ratings')">Average Ratings</a>
                      <a class="dropdown-item" href="#" onclick="sortProducts('featured')">Featured</a>
                      <a class="dropdown-item" href="#" onclick="sortProducts('newArrivals')">New Arrivals</a> -->
                      <a class="dropdown-item" href="#" onclick="sortProducts('nameAsc')">Name, A to Z</a>
                      <a class="dropdown-item" href="#" onclick="sortProducts('nameDesc')">Name, Z to A</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- <div class="row mb-5">

              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/prod_2.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Gray Shoe</a></h2>
                <strong class="item-price">$20.00</strong>
              </div>
              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/prod_3.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Blue Shoe High Heels</a></h2>
                <strong class="item-price"><del>$46.00</del> $28.00</strong>
              </div>

              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/model_5.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Denim Jacket</a></h2>
                <strong class="item-price"><del>$46.00</del> $28.00</strong>

                <div class="star-rating">
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                </div>

              </div>
              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/prod_1.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Leather Green Bag</a></h2>
                <strong class="item-price"><del>$46.00</del> $28.00</strong>
                <div class="star-rating">
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                </div>
              </div>

              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/model_1.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Smooth Cloth</a></h2>
                <strong class="item-price"><del>$46.00</del> $28.00</strong>
              </div>
              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/model_7.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Yellow Jacket</a></h2>
                <strong class="item-price">$58.00</strong>
              </div>
              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/prod_2.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Gray Shoe</a></h2>
                <strong class="item-price">$20.00</strong>
              </div>
              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/prod_3.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Blue Shoe High Heels</a></h2>
                <strong class="item-price"><del>$46.00</del> $28.00</strong>
              </div>

              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/model_5.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Denim Jacket</a></h2>
                <strong class="item-price"><del>$46.00</del> $28.00</strong>

                <div class="star-rating">
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                </div>

              </div>
              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/prod_1.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Leather Green Bag</a></h2>
                <strong class="item-price"><del>$46.00</del> $28.00</strong>
                <div class="star-rating">
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                  <span class="icon-star2 text-warning"></span>
                </div>
              </div>

              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/model_1.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Smooth Cloth</a></h2>
                <strong class="item-price"><del>$46.00</del> $28.00</strong>
              </div>
              <div class="col-lg-6 col-md-6 item-entry mb-4">
                <a href="/user/product-details" class="product-item md-height bg-gray d-block">
                  <img src="/user/images/model_7.png" alt="Image" class="img-fluid">
                </a>
                <h2 class="item-title"><a href="/user/product-details">Yellow Jacket</a></h2>
                <strong class="item-price">$58.00</strong>
              </div>
            </div> -->

 <!-- dynamic loading -->
 <div class="row product-list">
  <!-- Initial products will be rendered here by server-side rendering -->
  <% products.forEach(product => { %>
  <div class="col-lg-4 col-md-6 item-entry mb-4">
      <div class="product-item md-height bg-gray d-block">
          <img src="<%= product.images[0] %>" alt="Image" class="img-fluid">
      </div>
      <div class="text-center mt-2">
          <h2 class="item-title">
              <a href="/user/product-details?id=<%= product._id %>"><%= product.name %></a>
          </h2>
          <p class="item-description"><%= product.description %></p>
          <% if (product.discountPercentage) { %>
          <!-- Product has discount -->
          <strong class="item-price">
              <% if (product.originalPrice) { %>
              <del>₹<%= product.originalPrice.toFixed(2) %></del> ₹<%= product.price.toFixed(2) %>
              <% } else { %>
              <span class="text-danger">Price Not Available</span>
              <% } %>
          </strong>
          <p class="item-discount">
              <%= product.discountPercentage.toFixed(2) %>% OFF
          </p>
          <% } else if (product.originalPrice) { %>
          <!-- Product has no discount -->
          <strong class="item-price">₹<%= product.originalPrice.toFixed(2) %></strong>
          <% } else { %>
          <!-- Original price not available -->
          <span class="text-danger">Price Not Available</span>
          <% } %>
      </div>
  </div>
  <% }) %>
</div>


<!-- pagination -->
            <div class="row">  
              <div class="col-md-12">
                <div class="d-flex justify-content-center my-4">
                  <nav aria-label="Page navigation example">
                    <ul class="pagination">
                      <% if (hasPreviousPage) { %>
                        <li class="page-item">                    
                            <a class="page-link" href="/user/shop?page=1&sort=<%= sort %>&category=<%= category %>&q=<%= q %>" aria-label="First">
                            <span aria-hidden="true">&laquo;&laquo;</span>
                            <span class="sr-only">First</span>
                          </a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="/user/shop?page=<%= previousPage %>&sort=<%= sort %>&category=<%= category %>&q=<%= q %>"aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                            <span class="sr-only">Previous</span>
                          </a>
                        </li>
                      <% } else { %>
                        <li class="page-item disabled">
                          <span class="page-link" aria-hidden="true">&laquo;&laquo;</span>
                          <span class="sr-only">First</span>
                        </li>
                        <li class="page-item disabled">
                          <span class="page-link" aria-hidden="true">&laquo;</span>
                          <span class="sr-only">Previous</span>
                        </li>
                      <% } %>
            
                      <% for (let i = 1; i <= totalPages; i++) { %>
                        <li class="page-item <%= currentPage === i ? 'active' : '' %>">
                          <a class="page-link" href="/user/shop?page=<%= i %>&sort=<%= sort %>&category=<%= category %>&q=<%= q %>"><%= i %></a>
                        </li>
                      <% } %>
            
                      <% if (hasNextPage) { %>
                        <li class="page-item">                        
                            <a class="page-link" href="/user/shop?page=<%= nextPage %>&sort=<%= sort %>&category=<%= category %>&q=<%= q %>" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                            <span class="sr-only">Next</span>
                          </a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="/user/shop?page=<%= lastPage %>&sort=<%= sort %>&category=<%= category %>&q=<%= q %>"aria-label="Last">
                            <span aria-hidden="true">&raquo;&raquo;</span>
                            <span class="sr-only">Last</span>
                          </a>
                        </li>
                      <% } else { %>
                        <li class="page-item disabled">
                          <span class="page-link" aria-hidden="true">&raquo;</span>
                          <span class="sr-only">Next</span>
                        </li>
                        <li class="page-item disabled">
                          <span class="page-link" aria-hidden="true">&raquo;&raquo;</span>
                            <span class="sr-only">Last</span>
                        </li>
                      <% } %>
                    </ul>
                  </nav>
                </div>
              </div>
            </div>
            

            
          </div>



          <div class="col-md-3 order-2 mb-5 mb-md-0">
            <div class="border p-4 rounded mb-4">
              <h3 class="mb-3 h6 text-uppercase text-black d-block">Categories</h3>
              <ul class="list-unstyled mb-0">
                <% categoriesWithCounts.forEach(category=> { %>
                  <li class="mb-1">
                      <a href="javascript:void(0)" class="d-flex" onclick="selectCategory('<%= category.name %>')">
                      <span name="categoryName" id="category">
                        <%= category.name %>
                      </span>
                      <span class="text-black ml-auto">(<%= category.count %>)</span>
                    </a>
                  </li>
                  <% }) %>
              </ul>
            </div>
          </div>

         
        </div>
      </div>

    </div>
  </div>

 
  <footer class="site-footer custom-border-top">
    <div class="container">
      <div class="row">
        <div class="col-md-6 col-lg-3 mb-4 mb-lg-0">
          <h3 class="footer-heading mb-4">Promo</h3>
          <a href="#" class="block-6">
            <img src="/user/images/about_1.jpg" alt="Image placeholder" class="img-fluid rounded mb-4">
            <h3 class="font-weight-light  mb-0">Finding Your Perfect Shirts This Summer</h3>
            <p>Promo from July 15 &mdash; 25, 2024</p>
          </a>
        </div>
       
        <div class="col-lg-5 ml-auto mb-5 mb-lg-0">
          <div class="row">
            <div class="col-md-12">
              <h3 class="footer-heading mb-4">About Us</h3>
            </div>
            <div class="col-md-6 col-lg-4">
              <ul class="list-unstyled">
                <li>Curated products only</li>
                <li>Imported materials and products available</li>
                <li>Unique styles</li>
                <li>Direct from factory</li>
              </ul>
            </div>
            <div class="col-md-6 col-lg-4">
              <ul class="list-unstyled">
                <li>No middle agents</li>
                <li>Delivery available</a></li>
                <li>Hassle free purchase</li>
              </ul>
            </div>
            <div class="col-md-6 col-lg-4">
              <ul class="list-unstyled">
                <li>Net banking available</li>
                <li>COD below Rs.1000/-</li>
                <li>Wallet option available</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-lg-3">
          <div class="block-5 mb-5">
            <h3 class="footer-heading mb-4">Contact Info</h3>
            <ul class="list-unstyled">
              <li class="address">Adith Ramesh. Kengeri Satelite Town, Bangalore, Karnataka, India</li>
              <li class="phone">+91 9895905068</li>
              <li class="email">adithramesh90@gmail.com</li>
            </ul>
          </div>

       
        </div>
      </div>
      <div class="row pt-5 mt-5 text-center">
        <div class="col-md-12">
          <p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            Copyright &copy;
            <script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with
            <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank"
              class="text-primary">Colorlib</a>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
          </p>
        </div>

      </div>
    </div>
  </footer>
  </div>

  <script src="/user/js/jquery-3.3.1.min.js"></script>
  <script src="/user/js/jquery-ui.js"></script>
  <script src="/user/js/popper.min.js"></script>
  <script src="/user/js/bootstrap.min.js"></script>
  <script src="/user/js/owl.carousel.min.js"></script>
  <script src="/user/js/jquery.magnific-popup.min.js"></script>
  <script src="/user/js/aos.js"></script>

  <script src="/user/js/main.js"></script>

  <script>

function sortProducts(sortBy) {
  const urlParams = new URLSearchParams(window.location.search);
  urlParams.set('sort', sortBy);
  window.location.search = urlParams.toString();
}

function selectCategory(categoryName) {
  const urlParams = new URLSearchParams(window.location.search);
  urlParams.set('category', categoryName);
  window.location.search = urlParams.toString();
}

function searchProducts(query) {
  const urlParams = new URLSearchParams(window.location.search);
  urlParams.set('q', query);
  window.location.search = urlParams.toString();
}

  </script>

</body>

</html>