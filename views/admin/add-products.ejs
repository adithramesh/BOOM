<!DOCTYPE HTML>
<html lang="en">


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-products-list.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:00 GMT -->
<head>
    <meta charset="utf-8">
    <title>BOOM Dashboard</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/admin/imgs/theme/favicon.svg">
    <!-- Template CSS -->
    <link href="/admin/css/main.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
</head>

<body>
    <div class="screen-overlay"></div>
    <aside class="navbar-aside" id="offcanvas_aside">
        <div class="aside-top">
            <a href="/admin/dashboard" class="brand-wrap">
                <a href="/admin/dashboard"  class="js-logo-clone"><h6>BOOM</h6></a> 
                <!-- <img src="/admin/imgs/theme/logo.svg" class="logo" alt="BOOM Dashboardboard"> -->
            </a>
            <div>
                <button class="btn btn-icon btn-aside-minimize"> <i class="text-muted material-icons md-menu_open"></i> </button>
            </div>
        </div>
        <nav>
            <ul class="menu-aside">
                <li class="menu-item active">
                    <a class="menu-link" href="/admin/dashboard"> <i class="icon material-icons md-home"></i>
                        <span class="text">Dashboard</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a class="menu-link" href="/admin/customers"> 
                        <i class="icon material-icons md-person"></i>
                        <span class="text">Customers</span>
                    </a>
                </li>
                
                <li class="menu-item">
                    <a class="menu-link" href="/admin/products"> 
                        <i class="icon material-icons md-shopping_bag"></i>
                        <span class="text">Products</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a class="menu-link" href="/admin/categories"> 
                        <i class="icon material-icons md-add_box"></i>
                        <span class="text">Categories</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a class="menu-link" href="/admin/orders"> 
                        <i class="icon material-icons md-shopping_cart"></i>
                        <span class="text">Orders</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a class="menu-link" href="/admin/banners"> 
                        <i class="icon material-icons md-flag"></i>
                        <span class="text">Banners</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a class="menu-link" href="/admin/coupons"> 
                        <i class="icon material-icons md-monetization_on"></i>
                        <span class="text">Coupons</span>
                    </a>
                </li>

                
                <!-- <li class="menu-item">
                    <a class="menu-link" href="page-reviews.html"> <i class="icon material-icons md-comment"></i>
                        <span class="text">Reviews</span>
                    </a>
                </li> -->
                <!-- <li class="menu-item">
                    <a class="menu-link" href="page-brands.html"> <i class="icon material-icons md-stars"></i>
                        <span class="text">Brands</span> </a>
                </li>
                <li class="menu-item">
                    <a class="menu-link" disabled href="#"> <i class="icon material-icons md-pie_chart"></i>
                        <span class="text">Statistics</span>
                    </a>
                </li> -->
            </ul>
            <hr>
            <br>
            <br>
        </nav>
    </aside>
    <main class="main-wrap">
        <header class="main-header navbar">
            <div class="col-search">
                <form class="searchform">
                    <div class="input-group">
                        <input list="search_terms" type="text" class="form-control" placeholder="Search term">
                        <button class="btn btn-light bg" type="button"> <i class="material-icons md-search"></i></button>
                    </div>
                    <datalist id="search_terms">
                        <option value="Products">
                        <option value="New orders">
                        <option value="Apple iphone">
                        <option value="Ahmed Hassan">
                    </datalist>
                </form>
            </div>
            <div class="col-nav">
                <button class="btn btn-icon btn-mobile me-auto" data-trigger="#offcanvas_aside"> <i class="material-icons md-apps"></i> </button>
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link btn-icon" href="#">
                            <i class="material-icons md-notifications animation-shake"></i>
                            <span class="badge rounded-pill">3</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn-icon darkmode" href="#"> <i class="material-icons md-nights_stay"></i> </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="requestfullscreen nav-link btn-icon"><i class="material-icons md-cast"></i></a>
                    </li>
                    <li class="dropdown nav-item">
                        <a class="dropdown-toggle" data-bs-toggle="dropdown" href="#" id="dropdownLanguage" aria-expanded="false"><i class="material-icons md-public"></i></a>
                        <div class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownLanguage">
                            <a class="dropdown-item text-brand" href="#"><img src="/admin/imgs/theme/flag-us.png" alt="English">English</a>
                            <a class="dropdown-item" href="#"><img src="/admin/imgs/theme/flag-fr.png" alt="Français">Français</a>
                            <a class="dropdown-item" href="#"><img src="/admin/imgs/theme/flag-jp.png" alt="Français">日本語</a>
                            <a class="dropdown-item" href="#"><img src="/admin/imgs/theme/flag-cn.png" alt="Français">中国人</a>
                        </div>
                    </li>
                    <li class="dropdown nav-item">
                        <a class="dropdown-toggle" data-bs-toggle="dropdown" href="#" id="dropdownAccount" aria-expanded="false"> <img class="img-xs rounded-circle" src="/admin/imgs/people/avatar2.jpg" alt="User"></a>
                        <div class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownAccount">
                            <a class="dropdown-item" href="#"><i class="material-icons md-perm_identity"></i>Edit Profile</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-settings"></i>Account Settings</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-account_balance_wallet"></i>Wallet</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-receipt"></i>Billing</a>
                            <a class="dropdown-item" href="#"><i class="material-icons md-help_outline"></i>Help center</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item text-danger" href="#"><i class="material-icons md-exit_to_app"></i>Logout</a>
                        </div>
                    </li>
                </ul>
            </div>
        </header>
        <section class="content-main">
            <div class="content-header">
                <div>
                    <h2 class="content-title card-title">Add Products</h2>
                    <p>Add products with necessary details</p>
                </div>
               
            </div>
            <% if (typeof messages !== 'undefined' && messages.error) { %>
                <div class="alert alert-danger">
                    <%= messages.error %>
                </div>
            <% } %>
                      
                        
                    </div>
                </header> <!-- card-header end// -->
                <article class="itemlist">
                    <div class="row align-items-center">
                        <!-- Product details -->
                    </div> <!-- row .// -->
                
                    <!-- Image upload form -->
                    <div class="row mt-3">
                        <div class="col-lg-8 offset-lg-2 col-md-8 offset-md-2 col-sm-10 offset-sm-1 col-12">
                            <form action="/admin/add-products" method="POST" enctype="multipart/form-data">
                                <!-- Product Name -->
                                <div class="form-group">
                                    <label for="name">Product Name:</label>
                                    <input type="text" name="name" id="name" class="form-control" required>
                                </div>
                
                                <!-- Product Description -->
                                <div class="form-group">
                                    <label for="description">Product Description:</label>
                                    <textarea name="description" id="description" class="form-control" rows="6" required></textarea>
                                </div>
                
                                <!-- Category -->
                                <div class="form-group">
                                    <label for="category">Category:</label>
                                    <select name="category" id="category" class="form-control" required>
                                        <option value="">Select a category</option>
                                        <% categories.forEach(category => { %>
                                            <option value="<%= category._id %>"><%= category.name %></option>
                                        <% }); %>
                                    </select>
                                </div>

                                <!-- Quantity
                                <div class="form-group">
                                    <label for="quantity">Quantity:</label>
                                    <input type="number" name="quantity" id="quantity" class="form-control" onkeyup="validateQuantity()" required>
                                    <span id="quantityError"></span>
                                </div>

                                size
                                <div class="form-group">
                                    <label for="size">Size:</label>
                                    <div class="d-flex flex-wrap">
                                        <div class="form-check mr-3">
                                            <input class="form-check-input" type="checkbox" name="sizes[]" id="sizeXS" value="XS">
                                            <label class="form-check-label" for="sizeXS">Extra Small</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        </div>
                                        <div class="form-check mr-3">
                                            <input class="form-check-input" type="checkbox" name="sizes[]" id="sizeS" value="S">
                                            <label class="form-check-label" for="sizeS">Small</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        </div>
                                        <div class="form-check mr-3">
                                            <input class="form-check-input" type="checkbox" name="sizes[]" id="sizeM" value="M">
                                            <label class="form-check-label" for="sizeM">Medium</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        </div>
                                        <div class="form-check mr-3">
                                            <input class="form-check-input" type="checkbox" name="sizes[]" id="sizeL" value="L">
                                            <label class="form-check-label" for="sizeL">Large</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="sizes[]" id="sizeXL" value="XL">
                                            <label class="form-check-label" for="sizeXL">Extra Large</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        </div>
                                    </div>
                                </div> -->

                                <!-- Quantity and Size -->
                                <div class="form-group">
                                    <label for="sizes">Sizes and Quantities:</label>
                                    <div class="d-flex flex-wrap">
                                        <div class="form-check mr-3">
                                            <input class="form-check-input" type="checkbox" name="sizes[]" id="sizeXS" value="XS" onchange="toggleQuantityInput('XS')">
                                            <label class="form-check-label" for="sizeXS">Extra Small</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <input type="number" name="quantities[XS]" id="quantityXS" class="form-control size-quantity-input" placeholder="Quantity for XS" style="display:none;">
                                        </div>
                                        <div class="form-check mr-3">
                                            <input class="form-check-input" type="checkbox" name="sizes[]" id="sizeS" value="S" onchange="toggleQuantityInput('S')">
                                            <label class="form-check-label" for="sizeS">Small</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <input type="number" name="quantities[S]" id="quantityS" class="form-control size-quantity-input" placeholder="Quantity for S" style="display:none;">
                                        </div>
                                        <div class="form-check mr-3">
                                            <input class="form-check-input" type="checkbox" name="sizes[]" id="sizeM" value="M" onchange="toggleQuantityInput('M')">
                                            <label class="form-check-label" for="sizeM">Medium</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <input type="number" name="quantities[M]" id="quantityM" class="form-control size-quantity-input" placeholder="Quantity for M" style="display:none;">
                                        </div>
                                        <div class="form-check mr-3">
                                            <input class="form-check-input" type="checkbox" name="sizes[]" id="sizeL" value="L" onchange="toggleQuantityInput('L')">
                                            <label class="form-check-label" for="sizeL">Large</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <input type="number" name="quantities[L]" id="quantityL" class="form-control size-quantity-input" placeholder="Quantity for L" style="display:none;">
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="sizes[]" id="sizeXL" value="XL" onchange="toggleQuantityInput('XL')">
                                            <label class="form-check-label" for="sizeXL">Extra Large</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <input type="number" name="quantities[XL]" id="quantityXL" class="form-control size-quantity-input" placeholder="Quantity for XL" style="display:none;">
                                        </div>
                                    </div>
                                </div>


                                
                                <!-- Color -->
                                <div class="form-group">
                                    <label for="colour">Colour:</label>
                                    <input type="text" name="colour" id="colour" class="form-control" required>
                                </div>
                                <!-- Price -->
                                <div class="form-group">
                                    <label for="price">Price:</label>
                                    <input type="number" name="price" id="price" class="form-control"  onkeyup="validatePrice()" required>
                                    <span id="priceError"></span>
                                </div>
                                <!-- Product Images -->
                                
                                

                                <div class="d-flex justify-content-center" style="width: 700px;">
                                    <div class="d-flex justify-content-evenly">
                                        <div class="image-upload-container">
                                            <div class="close-icon" onclick="deleteImage('image1', 'preview1');">&times;
                                            </div>
                                            <label for="image1" class="form-label">
                                                <img id="preview1" src="https://bit.ly/3ubuq5o" alt="">
                                            </label>
                                            <input type="file" class="form-control" id="image1" name="cropImages"
                                                style="display: none;">
                                            <button type="button"
                                                onclick="document.getElementById('image1').click();">Upload
                                                Image</button>
                                        </div>

                                        <div class="image-upload-container">
                                            <div class="close-icon" onclick="deleteImage('image2', 'preview2');">&times;
                                            </div>
                                            <label for="image2" class="form-label">
                                                <img id="preview2" src="https://bit.ly/3ubuq5o" alt="images">
                                            </label>
                                            <input type="file" class="form-control" id="image2" name="cropImages"
                                                style="display: none;">
                                            <button type="button"
                                                onclick="document.getElementById('image2').click();">Upload
                                                Image</button>
                                        </div>

                                        <div class="image-upload-container">
                                            <div class="close-icon" onclick="deleteImage('image3', 'preview3');">&times;
                                            </div>
                                            <label for="image3" class="form-label">
                                                <img id="preview3" src="https://bit.ly/3ubuq5o" alt="">
                                            </label>
                                            <input type="file" class="form-control" id="image3" name="cropImages"
                                                style="display: none;">
                                            <button type="button"
                                                onclick="document.getElementById('image3').click();">Upload
                                                Image</button>
                                        </div>
                                    </div>
                                </div>


                                <!-- Modal  for cropping image  -->
                                <div class="modal fade" id="imageCropModal" tabindex="-1" aria-labelledby="imageCropModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="imageCropModalLabel">Crop Image</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <img id="imageToCrop" src="" alt="Crop this image" style="max-width: 100%;">
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                                <button type="button" class="btn btn-primary" id="cropImageBtn">Crop</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>






                                <div class="text-end">
                                    <button type="submit" class="btn btn-primary">Add Product</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </article>
                
                   
                </div> <!-- card-body end// -->
            </div> <!-- card end// -->
            
        </section> <!-- content-main end// -->
        <footer class="main-footer font-xs">
            <div class="row pb-30 pt-15">
                <div class="col-sm-6">
                    <script>
                    document.write(new Date().getFullYear())
                    </script> ©, BOOM - Apparel Ecommerce.
                </div>
                <div class="col-sm-6">
                    <div class="text-sm-end">
                        All rights reserved
                    </div>
                </div>
            </div>
        </footer>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
    <script src="/admin/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="/admin/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="/admin/js/vendors/select2.min.js"></script>
    <script src="/admin/js/vendors/perfect-scrollbar.js"></script>
    <script src="/admin/js/vendors/jquery.fullscreen.min.js"></script>
    <script src="/admin/js/main.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Main Script -->
   
    <script>
        function validateQuantity(){
            
            const quantity=document.getElementById("quantity").value
            const quantityError=document.getElementById("quantityError")
            if (quantity<=0){
               quantityError.innerHTML="Enter a positive value"
               quantityError.style.color="red"
               return false
            }else{
                quantityError.innerHTML=""
                return true
            }
        }

        function validatePrice(){
            
            const price=document.getElementById("price").value
            const priceError=document.getElementById("priceError")
            if (price<=0){
                priceError.innerHTML="Enter a positive value"
                priceError.style.color="red"
               return false
            }else{
                priceError.innerHTML=""
                return true
            }
        }
    </script>
  <script>
    
    var ids = ['image1', 'image2', 'image3'];

    function handleFileChange(event) {
        const selectedFiles = event.target.files; 
      
        for (let i = 0; i < selectedFiles.length; i++) {
            const file = selectedFiles[i];
            if (!file.type.startsWith('image/')) {
                alert('Please select only image files.');
                event.target.value = ''; 
                return; 
            }
        }
    }

    // Add change event listeners to each file input element
    ids.forEach(id => {
        document.getElementById(id).addEventListener('change', handleFileChange);
    });
</script>
      <script>
        function deleteImage(inputId, previewId) {
            var input = document.getElementById(inputId);
            var preview = document.getElementById(previewId);
            input.value = "";
            preview.src = "https://bit.ly/3ubuq5o";

        }
      </script>
      <script>

        let cropper;
        let currentInputId, currentPreviewId;
        let croppedImages = {};
        let originalFileNames = {};
        
        $(document).ready(function () {
        $('.image-upload-container input[type="file"]').on('change', function (e) {
            const inputId = e.target.id;
            const previewId = inputId.replace('image', 'preview');
            prepareImageForCropping(inputId, previewId);
        });

        $('#cropImageBtn').on('click', function () {
            performCropping();
        });
    });


        document.addEventListener("DOMContentLoaded", function () {

            document.getElementById('image1').addEventListener('change', function () { prepareImageForCropping('image1', 'preview1'); });
            document.getElementById('image2').addEventListener('change', function () { prepareImageForCropping('image2', 'preview2'); });
            document.getElementById('image3').addEventListener('change', function () { prepareImageForCropping('image3', 'preview3'); });


            document.getElementById('cropImageBtn').addEventListener('click', function () {
                performCropping();
            });


            $('#imageCropModal').on('shown.bs.modal', function () {
                let image = document.getElementById('imageToCrop');
                cropper = new Cropper(image, {
                    aspectRatio: 1,
                    viewMode: 1,
                    dragMode: "move",
                    minContainerWidth: 450,
                    minContainerHeight: 500,
                    minCropBoxWidth: 400,
                    minCropBoxHeight: 400,
                    minCanvasHeight: 500,
                    minCanvasWidth: 500,

                });
            });


            $('#imageCropModal').on('hidden.bs.modal', function () {
                if (cropper) {
                    cropper.destroy();
                    cropper = null;
                }
            });
        });

        function prepareImageForCropping(inputId, previewId) {
       
            currentInputId = inputId;
            currentPreviewId = previewId;
            const input = document.getElementById(inputId);
            const file = input.files[0];
            const newDate = new Date().getTime();
            originalFileNames[inputId] = `${file.name}_${newDate}`;
            console.log("originalFileNames[inputId]",originalFileNames[inputId]);

            const reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById('imageToCrop').src = e.target.result;
                $('#imageCropModal').modal('show');
            };
            reader.readAsDataURL(file);
        }

  
        function performCropping() {
            if (!cropper) {
                console.error("Cropper is not initialized.");
                return;
            }
            cropper.getCroppedCanvas().toBlob((blob) => {

                const preview = document.getElementById(currentPreviewId);
                preview.src = URL.createObjectURL(blob);

                croppedImages[currentInputId] = blob;


                $('#imageCropModal').modal('hide');
            }, 'image/png')


        }


        // document.addEventListener('DOMContentLoaded', function () {

        //     const form = document.querySelector('form')
        //     form.addEventListener('submit', function (e) {
        //         e.preventDefault()
        //         const name = document.getElementById('name').value
        //         const category = document.getElementById('category').value
        //         const price = document.getElementById('price').value
        //         const description = document.getElementById('description').value
        //         const quantity = document.getElementById('quantity').value
        //         // const size = document.getElementById('size').value
        //         // const brand = document.getElementById('brand').value
             
        //         const image1 = document.getElementById('image1').files[0]
        //         const image2 = document.getElementById('image2').files[0]
        //         const image3 = document.getElementById('image3').files[0]


        //         const formData = new FormData();
        //         formData.append('name', name)
        //         formData.append('category', category)
        //         formData.append('price', price)
        //         formData.append('description', description)
        //         formData.append('quantity', quantity)
        //         // formData.append('size', size)
        //         // formData.append('brand', brand)

        
        //         Object.keys(croppedImages).forEach(key => {
        //             const originalFileName = originalFileNames[key];
        //             formData.append('images', croppedImages[key],originalFileName);
        //         });

        //         console.log(formData);

        //         axios.post('/admin/add-products', formData, {
        //             headers: {
        //                 'Content-type': "multipart/form-data"
        //             }
        //         }).then((res) => {
        //             if (res.data.success) {
        //                 window.location.href = '/admin/products'
        //             }else{
        //                 document.getElementById('addproductError').innerHTML=res.data.message
        //                 document.getElementById('addproductError').style.color='red'
        //             }

        //         }).catch((err) => {
        //             console.log('error', err);
        //         });

        //     })
        // })




    </script>
    <script>
        function toggleQuantityInput(size) {
            const quantityInput = document.getElementById('quantity' + size);
            if (document.getElementById('size' + size).checked) {
                quantityInput.style.display = 'block';
            } else {
                quantityInput.style.display = 'none';
                quantityInput.value = ''; // Clear the input value if unchecked
            }
        }
    </script>
       
</body>


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-products-list.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:12 GMT -->
</html>